$&&function(){var e="data-viewbind-boot";var t="data-viewbind-model";var n="data-viewbind-effect";var r="data-viewbind-identity";var s="data-viewbind-parent";var o="data-viewbind-child";var u="data-viewbind-me";var a="data-viewbind-cast";var f="data-viewbind-event";var l="data-viewbind-call";var c="data-viewbind-view";var h="data-viewbind-viewdelay";var p=c+"-x";var d=c+"-error";var v="viewbind";var m="*";var g="";var y=function(){y.id=y.id?y.id+1:1;return y.id};var b=function(e){if(e){$("["+c+"='"+e+"']").removeAttr(h);$viewbinderViewLoader("selector")}};var w=function(e){if(e){$("["+c+"='"+e+"']").html("");$viewbinderViewLoader(m)}};var E=function(e){if(e){if(e.split("=")[1]){if($("["+c+"='"+e+"']").size()){var t=$("["+c+"='"+e+"']");t.removeAttr(h);t.removeAttr(p);t.html("")}else{$("body").append('<div style="display:none" class="viewbind"  data-viewbind-view="'+e+'"></div>')}}else{var n=$("["+c+"='"+e+"']");n.removeAttr(h);n.removeAttr(p);n.html("")}$viewbinderViewLoader(m)}};var S={load:b,unload:w,reload:E};var x=function(e,t,n,r,i){if(e&&n){t=t||"";var s=e;var o=n.split("=");var u=o[0];var a=o[1];var f=u;if(!a){f=e;a=t+u}else{a=t+a;f="["+c+"='"+u+"']"}var l=$(f);i&&l.css("display","none");if(l.size()){$.get(a,function(e){l.html(e);i?l[i]("fast",function(){typeof r==="function"&&r(e,"","")}):typeof r==="function"&&r(e,"","")},"html")}else{console.error("destination view area cannot be found as specified at :");console.error(s);typeof r==="function"&&r({},"","")}}};var T={};var N=[];var C=function(e,t){var n={};if(e){var r=e.split("=");if(r[0]==="target"){if(r[1]){n=r[3]?$(r[1])[r[2]](r[3]):$(r[1])[r[2]]()}else{console.error("target not well specified for :");console.error(t)}}else{n=r[1]?$(t)[r[0]](r[1]):$(t)[r[0]]()}}return n};var k=function(e){var t=window;var n=e.split(".");var r=n.length-1;for(i=0;i<r;i++){t=t[n[i]];if(t==undefined)return}return{method:t[n[n.length-1]],context:t}};var L=function(e,t,n){if(e){var r=e.split(",");var i=r.length;for(var s=0;s<i;s++){var o=r[s];if(o){var u=o.split("=");if(u.length===2){var a=u[0];var f=u[1];var l=k(f).method;typeof l==="function"&&t&&a&&$(t).on(a,function(e){var t=C(n,this);l.apply(this,[e,S,t]);$viewbinderViewLoader(m)})}}}}};var A=function(e,t,n,r,i){if(e){var s=e.split(",");var o=s.length;for(var u=0;u<o;u++){var a=s[u];if(a){var f=a.split("=");if(f.length===2){var l=f[0];var c=f[1];if(T[c]){console.warn("A broad Cast Setup Already exist for this element");console.warn(t)}T[c]=T[c]||[];if(n){var h=T[c];var p=h.length;for(var u=0;u<p;u++){typeof h[u]==="function"&&h[u].apply(this,[{},S,r])}$viewbinderViewLoader(m)}else{t&&l&&$(t).on(l,function(e){var t=T[c];var n=C(i,this);var r=t.length;for(var s=0;s<r;s++){typeof t[s]==="function"&&t[s].apply(this,[e,S,n])}$viewbinderViewLoader(m)})}}}}}};var O=function(e,t,n){if(e){var r=e.split(",");var i=r.length;for(var s=0;s<i;s++){var o=r[s];if(o){try{var u=k(o);t=u?u.context||t:t;var a=C(n,this);u&&typeof u.method==="function"&&u.method.apply(t,[{},S,a])}catch(f){console.error("could not invoke method "+o+" found in "+e);f.message&&console.error(f.message);console.error(f)}}}}};var M=function(e,t){e&&A("bcast="+e,{},true,t||"")};window.viewbinder={init:function(e){if(e){g=e.rootUrl||g}$(function(){window.$viewbinderViewLoader=function(e,i,v,b){$(e).each(function(){if($(this).is("["+h+"]")||$(this).attr(p)){}else{try{var e=b||y();var i=y();var w=y();$(this).attr(r,w);$(this).attr(o,i);$(this).attr(u,e);$(this).attr(s,v);N.push({parent:v||"0",child:i,me:e,ref:"["+u+"]"});var E=$(this).attr(c);var S=$(this).attr(n);var T=this;var C=function(n,r,s){if(r=="error"){console.error("failure loading view - "+E+":");console.error(n);console.error(s);$(this).attr(d,true)}var o=$(T).find(m);if(o.size()>0){o.each(function(){$viewbinderViewLoader(this,e,i)})}(function(e){setTimeout(function(){var n=$(e).attr(c);var r=$(e).attr(l);var i=$(e).attr(f);var s=$(e).attr(a);var o=$(e).attr(t);r&&O(r,e,o);i&&L(i,e,o);s&&A(s,e,false,false,o)},100)})(T)};C("element is just enabled with no view to load","success",{});if(E){x(this,g,E,C,S||"")}$(this).attr(p,true)}catch(k){console.error("failure loading view - "+E+":");console.error(k);$(this).attr(d,true)}}})};$viewbinderViewLoader(m)})},on:function(e,t){if(typeof t==="function"&&e){T[e]=T[e]||[];T[e].push(t)}else{console.error("Problem Registering Listener for:");console.error(e);console.error("with method:");console.error(t)}},broadcast:M,view:S,mappings:function(){return{broadcast:T,views:N}}}}()